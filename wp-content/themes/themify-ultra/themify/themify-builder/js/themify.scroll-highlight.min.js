'use strict';(function(A,d,x,l){let r=!1,k=null,t=!0,y=!0,v=!1,h=null;const f=Object.assign({speed:900,element:"module_row",offset:null,navigation:"#main-nav,.module-menu .nav",updateHash:!0},tbLocalScript.scrollHighlight),m=parseInt(f.offset),g=x.top,n=l.getElementById("headerwrap"),w={init(b){t=null!==n&&d.body[0].classList.contains("fixed-header-enabled")||0<m;if(!1===v){const b=g.location.hash.replace("#","");if(b&&"#"!==b){var a=p(l.querySelectorAll("."+f.element+'[data-anchor="'+b+'"]'));if(!a){const c=
["tab","accordion"];for(let e=c.length-1;-1<e;--e){let q=l.querySelectorAll("."+c[e]+'-content[data-id="'+b+'"]'),f=q.length,g=[];if(0<f){for(a=0;a<f;++a)g.push(q[a].closest(".module"));if(a=p(g)){let a=l.querySelector('a[href="#'+b+'"]');if(a){const b=function(){a.click()};if(d.jsLazy["tb_"+c[e]])b();else d.on("tb_"+c[e]+"_init",function(){setTimeout(b,100)},!0);break}}}}}a&&this.scrollTo(a,b)}else m&&d.scrollTo(m,f.speed);v=!0}this.createObserver(b)},changeHash(){if(!1===r){const a=g.location.hash.replace("#",
""),c=l.querySelectorAll(f.navigation);for(let d=c.length-1;-1<d;--d){let e=c[d].getElementsByClassName("current-menu-item");for(var b=e.length-1;-1<b;--b)null===h&&(h=e[b].getElementsByTagName("a")[0].getAttribute("href")),e[b].classList.remove("current_page_item","current-menu-item");(e=""!==a&&"#"!==a?c[d].querySelectorAll('a[href*="#'+a+'"]'):null)&&0!==e.length||(e=c[d].querySelectorAll('a[href="'+h+'"]'));for(b=e.length-1;-1<b;--b){let a=e[b].parentNode;a.classList.add("current-menu-item");
a.classList.contains("menu-item-object-page")&&a.classList.add("current_page_item")}}null===h&&(h=g.location.href.split("#")[0])}},calculatePosition(b){b=A(b).offset().top+2;if(!0===t)if(m)b-=m-2;else if(n.classList.contains("fixed-header")){const a=n.getBoundingClientRect().bottom+2;b>=a&&(b-=a)}return b},scrollTo(b,a){r=!0;d.lazyScroll(d.convert(d.selectWithParent("[data-lazy]",b)).reverse(),!0);const c=d.lazyScrolling,q=this,e=!1===v,k=function(){const k=z(),h=l.getElementsByClassName(f.element),
p=new IntersectionObserver(function(a,b){for(let b=a.length-1;-1<b;--b)!0===a[b].isIntersecting&&d.lazyScroll(d.convert(d.selectWithParent("[data-lazy]",a[b].target)).reverse(),!0);b.disconnect()},{rootMargin:"300px 0px 300px 0px",threshold:.1});for(let a=h.length-1;-1<a;--a)h[a].hasAttribute("data-lazy")&&!h[a].classList.contains("hide-"+k)&&p.observe(h[a]);!0===t&&(m||n.classList.contains("fixed-header"))&&d.scrollTo(q.calculatePosition(b),f.speed);d.lazyScrolling=c;r=!1;!1===e&&(a=b.hasAttribute("data-hide-anchor")?
"":"#"+a.replace("#",""),g.history.replaceState(null,null,a));u()},h=!0!==t||!m&&n.classList.contains("fixed-header")?null:function(){(m||n.classList.contains("fixed-header"))&&d.scrollTo(q.calculatePosition(b),f.speed,k)};d.lazyScrolling=!0;d.scrollTo(q.calculatePosition(b),f.speed,k,h)},createObserver(b){if(f.updateHash){null===k&&(k=new x.IntersectionObserver(function(a,b){if(!1===r){b=!1;for(let c=0,d=a.length;c<d;++c)!0===a[c].isIntersecting&&(b=a[c].target.getAttribute("data-anchor"));!1===
b?!1===y?g.history.replaceState(null,null," "):y=!1:(g.history.replaceState(null,null,"#"+b),u())}},{rootMargin:"0px 0px -100%",thresholds:[0,1]}));b=d.selectWithParent(f.element,b);for(let a=b.length-1;-1<a;--a)if(!b[a].hasAttribute("data-hide-anchor")){let c=b[a].getAttribute("data-anchor");c&&"#"!==c&&k.observe(b[a])}}}},z=function(){const b=d.w,a=tbLocalScript.breakpoints;for(let c in a)if(Array.isArray(a[c])){if(b>=a[c][0]&&b<=a[c][1])return c}else if(b<=a[c])return c;return"desktop"},p=function(b){if(!b[1])return b[0]?
b[0]:null;let a=z();for(let c=0,d=b.length;c<d;++c)if(!b[c].classList.contains("hide-"+a))return b[c];return null},u=function(){w.changeHash()};d.on("tb_scroll_highlight_enable",function(){g.addEventListener("hashchange",u,{passive:!0});d.body.on("click.tb_scroll_highlight",'[href*="#"]',function(b){var a=this.getAttribute("href");if(""!==a&&null!==a&&"#"!==a&&(a=new URL(a,g.location),a.hostname===g.location.hostname&&a.hash&&a.pathname===g.location.pathname&&(a=a.hash,""!==a&&"#"!==a))){const c=
p(l.querySelectorAll("."+f.element+'[data-anchor="'+a.replace("#","")+'"]'));if(c||p(l.querySelectorAll(a+".module,"+a+".module_row")))d.trigger("tf_side_menu_hide_all"),c&&(b.preventDefault(),b.stopPropagation(),w.scrollTo(c,a))}})}).on("tb_scroll_highlight_disable",function(){k&&(k.disconnect(),k=null);g.removeEventListener("hashchange",u,{passive:!0});d.body.off("click.tb_scroll_highlight")}).on("tb_init_scroll_highlight",function(b){w.init(b);d.trigger("tb_scroll_highlight_enable")})})(jQuery,
Themify,window,document);
