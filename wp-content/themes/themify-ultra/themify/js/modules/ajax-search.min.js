'use strict';(function(d,f){const l=function(e){const k=[],c=d(e.container),g="overlay"===e.type?c.find("#searchform input"):d(e.el);let h,b;if("overlay"===e.type){b=c.find(".search-results-wrap");const a=function(){g.val().length?c.addClass("search-active"):c.removeClass("search-active")};d(e.el).on("click",function(b){b.preventDefault();a();c.fadeIn(function(){g.focus();f.body.css("overflow-y","hidden")});f.body.addClass("searchform-slidedown")});c.find(".close-search-box").on("click",function(b){b.preventDefault();
a();h&&h.abort();c.fadeOut();f.body.css("overflow-y","visible").removeClass("searchform-slidedown")})}else"dropdown"===e.type&&(c.addClass("tf_rel tf_s_dropdown").append('<div class="search-results-wrap tf_ajax_s_dropdown tf_scrollbar" style="display:none"></div>'),b=c.find(".search-results-wrap"),g.on("blur",function(a){a.relatedTarget&&null!==a.relatedTarget.closest(".search-results-wrap")||b.hide()}));b.on("click",".search-option-tab a",function(a){a.preventDefault();a=d(this).attr("href").replace("#",
"");"all"===a?a="item":b.find(".result-item").stop().fadeOut();const c=b.find("#result-link-"+a);0<c.length&&(d(".view-all-button").hide(),c.show());b.find(".result-"+a).stop().fadeIn();d(this).closest("li").addClass("active").siblings("li").removeClass("active");"dropdown"===e.type&&g.focus()});g.prop("autocomplete","off").on("keyup",function(a){function f(a){0>a&&(a=0);b.find(".search-option-tab li").eq(a).children("a").trigger("click");b.show()}0<d(this).val().length?c.addClass("search-active"):
(c.removeClass("search-active"),b.hide());if(48<=a.keyCode&&57>=a.keyCode||65<=a.keyCode&&90>=a.keyCode||8===a.keyCode||229===a.keyCode){let a=d.trim(d(this).val());a?k[a]?(b.hide().html(k[a]),f(b.find(".search-option-tab li.active").index())):setTimeout(function(){a=d.trim(g.val());h&&h.abort();a?h=d.ajax({url:themify_vars.ajax_url,type:"POST",data:{action:"themify_search_autocomplete",term:a,post_type:e.post_type?e.post_type:""},beforeSend:function(){c.addClass("themify-loading")},complete:function(){c.removeClass("themify-loading")},
success:function(c){a?c&&(b.hide().html(c),f(b.find(".search-option-tab li.active").index()),b.find(".search-option-tab li.active"),k[a]=c):b.html("")}}):b.html("")},100):b.html("")}})};f.on("themify_overlay_search_init",function(d){l(d)})})(jQuery,Themify);
